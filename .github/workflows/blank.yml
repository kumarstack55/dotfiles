name: CI

on: [push]

jobs:
  test:

    runs-on: ubuntu-latest

    steps:
    - name: Configure git to prevent warnings from being raised in checkout
      run: |
        git config --global advice.detachedHead false

    - uses: actions/checkout@v1

    - name: Output information about the test environment
      run: |
        set -x
        uname -n
        whoami
        pwd
        ls
        type bash
        bash --version
        type tmux
        type vi
        type vim
        type nvim || true
        type python
        python --version

    - name: Run a multi-line script
      run: |
        set -x
        sudo apt-get install neovim
        cd ./bin
        ./installer.sh
        nvim -u "~/.config/nvim/plugins.vim" -c "try | PlugInstall --sync | finally | qall! | endtry"
